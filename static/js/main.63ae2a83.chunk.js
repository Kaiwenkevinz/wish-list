(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(176)},148:function(e,t,a){},149:function(e,t,a){},176:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),o=(a(148),a(16)),l=a(12),i=a(18),m=a(17),u=a(19),p=a(51),d=a(34),h=(a(149),a(15)),g=a(81),E=a(114),b=a(21),f=a(115),v=a(200),y=a(205),N=a(209),O=a(204),j=a(202),w=a(201),C=a(207),S=a(203),I=Object(v.a)({card:{maxWidth:345},media:{height:140}});function k(e){var t=I();console.log(e);var a=e.item.name,n=e.item.date_created.substring(0,10),s=e.item.price,c=e.item.result;return r.a.createElement(N.a,{className:t.card},r.a.createElement(w.a,{className:t.media,image:"https://i.ibb.co/41TKn4Y/money-pic.jpg",title:"Contemplative Reptile"}),r.a.createElement(j.a,null,r.a.createElement(S.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(S.a,{variant:"body2",color:"textSecondary",component:"p"},r.a.createElement("img",{className:"item-detail-Image",src:"https://img.icons8.com/ios/50/000000/price-tag-euro.png"})," ",s,r.a.createElement("br",null),r.a.createElement("img",{className:"item-detail-Image",src:"https://img.icons8.com/material-sharp/24/000000/date-from.png"})," ",n,r.a.createElement("br",null),r.a.createElement("img",{className:"item-detail-Image",src:"https://img.icons8.com/ios-glyphs/30/000000/test-results.png"})," ",c,r.a.createElement("br",null))),r.a.createElement(O.a,null,r.a.createElement(C.a,{size:"small",color:"primary"},"Share"),r.a.createElement(C.a,{size:"small",color:"primary"},"Learn More")))}var R=Object(v.a)(function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}});function T(e){var t=R(),a=e.data.map(function(e){return r.a.createElement(y.a,{item:!0,xs:4,key:e.id},r.a.createElement(k,{item:e}))});return r.a.createElement("div",{className:t.root},r.a.createElement(y.a,{container:!0,spacing:1},r.a.createElement(y.a,{container:!0,item:!0,xs:12,spacing:3},r.a.createElement(r.a.Fragment,null,a))))}var A=a(206),D=a(101),L=a(116),_=(a(157),a(33)),x=a.n(_),U=function(e){return{type:"CREATE_MESSAGE",payload:e}},G=function(e,t){return{type:"GET_ERRORS",payload:{msg:e,status:t}}};x.a.defaults.baseURL="https://wishlist-backend-server.herokuapp.com";var M=function(e){var t=e().auth.token,a={headers:{"Content-Type":"application/json"}};return t&&(a.headers.Authorization="Token ".concat(t)),a},P="https://wishlist-backend-server.herokuapp.com",W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={startDate:new Date,wantness:""},a.handleDateChange=a.handleDateChange.bind(Object(b.a)(a)),a.handleCreate=a.handleCreate.bind(Object(b.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.handleWantnessChange=a.handleWantnessChange.bind(Object(b.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.item;e&&this.setState({wantness:e.wantness})}},{key:"handleWantnessChange",value:function(e){this.setState({wantness:e.value})}},{key:"handleDateChange",value:function(e){this.setState({startDate:e})}},{key:"handleCreate",value:function(){var e={name:this.refs.name.value,wantness:this.state.wantness,price:parseFloat(this.refs.price.value),date_created:this.state.startDate,result:this.refs.result.value};this.props.createItem(e)}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.props.item){var t={id:this.props.item.id,name:this.refs.name.value,wantness:this.state.wantness,price:parseFloat(this.refs.price.value),date_created:this.state.startDate,result:this.refs.result.value};this.props.updateItem(t)}else this.handleCreate()}},{key:"render",value:function(){var e=this.props.item,t=this.props.options,a=r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 col-form-label"},"Name"),r.a.createElement("div",{className:"col-sm-9"},e?r.a.createElement("input",{type:"text",className:"form-control",ref:"name",defaultValue:e.name}):r.a.createElement("input",{type:"text",className:"form-control",ref:"name"}))),n=r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-3 col-form-label"},"How bad do you want it?"),r.a.createElement("div",{className:"col-sm-9"},e?r.a.createElement(D.a,{options:t,onChange:this.handleWantnessChange,defaultValue:t.filter(function(t){return t.value==e.wantness})}):r.a.createElement(D.a,{options:t,onChange:this.handleWantnessChange}))),s=r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-3"},"Price"),r.a.createElement("div",{className:"col-sm-9"},e?r.a.createElement("input",{type:"text",className:"form-control",ref:"price",defaultValue:e.price}):r.a.createElement("input",{type:"text",className:"form-control",ref:"price"}))),c=r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-3"},"Date"),r.a.createElement("div",{className:"col-sm-9"},r.a.createElement(L.a,{selected:this.state.startDate,onChange:this.handleDateChange}))),o=r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-3"},"Result"),r.a.createElement("div",{className:"col-sm-9"},e?r.a.createElement("input",{type:"text",class:"form-control",ref:"result",defaultValue:e.result}):r.a.createElement("input",{type:"text",class:"form-control",ref:"result"}))),l=r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col-sm-10"},e?r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Update"):r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Create")));return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},a,n,s,c,o,l))}}]),t}(n.Component),F=Object(h.b)(function(e){return{items:e.items.items}},{createItem:function(e){return function(t,a){var n="".concat(P,"/api/items/");x.a.post(n,e,M(a)).then(function(e){t(U({createItem:"Item created"})),t({type:"CREATE_ITEM",payload:e.data})}).catch(function(e){var a={msg:e.response.data,status:e.response.status};t({type:"GET_ERRORS",payload:a})})}},updateItem:function(e){return function(t,a){var n="".concat(P,"/api/items/").concat(e.id,"/");x.a.put(n,e,M(a)).then(function(e){t({type:"UPDATE_ITEM",payload:e.data})}).catch(function(e){return console.log(e)})}}})(W),J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).nextPage=e.nextPage.bind(Object(b.a)(e)),e.previousPage=e.previousPage.bind(Object(b.a)(e)),e.handleDelete=e.handleDelete.bind(Object(b.a)(e)),e}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.getItems()}},{key:"nextPage",value:function(){this.props.getItems(this.props.items["next page"])}},{key:"previousPage",value:function(){this.props.getItems(this.props.items["previous page"])}},{key:"handleDelete",value:function(e){this.props.deleteItems(e)}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"nav-buttons"},r.a.createElement(f.a,{trigger:r.a.createElement("button",{type:"button",className:"btn btn-outline-info"},"Add"),modal:!0},r.a.createElement(F,{options:[{value:1,label:"\u4e0d\u91cd\u8981\u7684\u4e1c\u897f\uff0c\u53ef\u4ee5\u518d\u7b49\u7b49"},{value:2,label:"\u8fc7\u51e0\u5929\u770b\u770b"},{value:3,label:"\u5f88\u60f3\u8981\u4e5f\u5f88\u9700\u8981"}]})),r.a.createElement("div",{className:"page-buttons"},r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(t){return e.previousPage(t)}},"Prev"),r.a.createElement("button",{type:"button",className:"btn btn-outline-primary",onClick:function(t){return e.nextPage(t)}},"Next"))),a=null,n=null;try{null!=(a=this.props.items.data)&&(n=r.a.createElement(T,{data:a}))}catch(s){console.log(s)}return r.a.createElement("div",null,r.a.createElement(A.a,{className:"grid-container",maxWidth:"md"},n),t)}}]),t}(n.Component),V=Object(h.b)(function(e){return{items:e.items.items}},{getItems:function(e){return function(t,a){var n="".concat(P,"/api/items");e&&(n="".concat(P).concat(e)),x.a.get(n,M(a)).then(function(e){t({type:"GET_ITEMS",payload:e.data})}).catch(function(e){return console.log(e)})}},deleteItems:function(e){return function(t,a){var n="".concat(P,"/api/items/").concat(e);x.a.delete(n,M(a)).then(function(a){t(U({deleteItem:"Item deleted"})),t({type:"DELETE_ITEMS",payload:e})}).catch(function(e){return console.log(e)})}}})(J),z=a(48),B=a(134),H=a(135),K=a(39),Y={items:[]},$={msg:{},status:null},q={},Q={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!0,user:null},X=Object(z.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ITEMS":return Object(K.a)({},e,{items:t.payload});case"DELETE_ITEMS":var a={};for(var n in e.items)if("data"==n){var r=e.items.data.filter(function(e){return e.id!==t.payload});a[n]=r}else a[n]=e.items[n];return Object(K.a)({},e,{items:a});case"CREATE_ITEM":case"UPDATE_ITEM":return Object(K.a)({},e,{items:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return{msg:t.payload.msg,status:t.payload.status};default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_MESSAGE":return t.payload;default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return Object(K.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(K.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(K.a)({},e,t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(K.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1});default:return e}}}),Z=[H.a],ee=Object(z.createStore)(X,{},Object(B.composeWithDevTools)(z.applyMiddleware.apply(void 0,Z))),te=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.error,n=t.alert,r=t.message;a!==e.error&&(a.msg.name&&n.error("Name: ".concat(a.msg.name.join())),a.msg.price&&n.error("Price: ".concat(a.msg.price.join())),a.msg.wantness&&n.error("Wantness: ".concat(a.msg.wantness.join())),a.msg.result&&n.error("Result: ".concat(a.msg.result.join()))),r!==e.message&&(r.deleteItem&&n.success(r.deleteItem),r.createItem&&n.success(r.createItem),r.passwordNotMatch&&n.error(r.passwordNotMatch))}},{key:"render",value:function(){return r.a.createElement(n.Fragment,null)}}]),t}(n.Component),ae=Object(h.b)(function(e){return{error:e.errors,message:e.messages}})(Object(g.b)()(te)),ne=a(136),re=Object(h.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(ne.a)(e,["component","auth"]);return r.a.createElement(p.b,Object.assign({},n,{render:function(e){return a.isLoading?r.a.createElement("h2",null,"Loading..."):a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:"/login"})}}))}),se=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},r.a.createElement("span",{className:"navbar-text mr-3"},r.a.createElement("strong",null,a?"Welcome ".concat(a.username):"")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("button",{onClick:this.props.logout,className:"nav-link btn btn-info btn-sm text-light"},"Logout"))),s=r.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/register",className:"nav-link"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(d.b,{to:"/login",className:"nav-link"},"Login")));return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Wish List")),t?n:s))}}]),t}(n.Component),ce=Object(h.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e,t){x.a.post("/api/auth/logout/",null,M(t)).then(function(t){e({type:"CLEAR_LEADS"}),e({type:"LOGOUT_SUCCESS"})}).catch(function(t){e(G(t.response.data,t.response.status))})}}})(se),oe=a(58),le=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",password2:""},a.onSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.email,s=t.password;if(s!==t.password2)a.props.createMessage({passwordNotMatch:"Passwords do not match"});else{var c={username:n,password:s,email:r};a.props.register(c)}},a.onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.props.isAuthenticated)return r.a.createElement(p.a,{to:"/"});var e=this.state,t=e.username,a=e.email,n=e.password,s=e.password2;return r.a.createElement("div",{className:"col-md-6 m-auto"},r.a.createElement("div",{className:"card card-body mt-5"},r.a.createElement("h2",{className:"text-center"},"Register"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:this.onChange,value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email"),r.a.createElement("input",{type:"email",className:"form-control",name:"email",onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:n})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Confirm Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password2",onChange:this.onChange,value:s})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Register")),r.a.createElement("p",null,"Already have an account? ",r.a.createElement(d.b,{to:"/login"},"Login")))))}}]),t}(n.Component),ie=Object(h.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{register:function(e){var t=e.username,a=e.password,n=e.email;return function(e){var r=JSON.stringify({username:t,email:n,password:a});x.a.post("/api/auth/register",r,{headers:{"Content-Type":"application/json"}}).then(function(t){e({type:"REGISTER_SUCCESS",payload:t.data})}).catch(function(t){e(G(t.response.data,t.response.status)),e({type:"REGISTER_FAIL"})})}},createMessage:U})(le),me=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.onSubmit=function(e){e.preventDefault(),a.props.login(a.state.username,a.state.password)},a.onChange=function(e){return a.setState(Object(oe.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){if(this.props.isAuthenticated)return r.a.createElement(p.a,{to:"/"});var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"col-md-6 m-auto"},r.a.createElement("div",{className:"card card-body mt-5"},r.a.createElement("h2",{className:"text-center"},"Login"),r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:this.onChange,value:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",onChange:this.onChange,value:a})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Login")),r.a.createElement("p",null,"Don't have an account? ",r.a.createElement(d.b,{to:"/register"},"Register")))))}}]),t}(n.Component),ue=Object(h.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(a){var n=JSON.stringify({username:e,password:t});x.a.post("/api/auth/login",n,{headers:{"Content-Type":"application/json"}}).then(function(e){a({type:"LOGIN_SUCCESS",payload:e.data})}).catch(function(e){a(G(e.response.data,e.response.status)),a({type:"LOGIN_FAIL"})})}}})(me),pe={position:"top center",timeout:3e3},de=r.a.createElement("div",null,r.a.createElement(p.d,null,r.a.createElement(re,{exact:!0,path:"/",component:V}),r.a.createElement(p.b,{exact:!0,path:"/register",component:ie}),r.a.createElement(p.b,{exact:!0,path:"/login",component:ue}))),he=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){ee.dispatch(function(e,t){e({type:"USER_LOADING"}),x.a.get("/api/auth/user",M(t)).then(function(t){e({type:"USER_LOADED",payload:t.data})}).catch(function(t){e(G(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})})})}},{key:"render",value:function(){return r.a.createElement(h.a,{store:ee},r.a.createElement(g.a,Object.assign({template:E.a},pe),r.a.createElement(d.a,null,r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement(ce,null)),r.a.createElement(ae,null),de))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(he,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,1,2]]]);
//# sourceMappingURL=main.63ae2a83.chunk.js.map